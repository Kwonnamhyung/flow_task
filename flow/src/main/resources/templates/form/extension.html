<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <style>
    .field-error{
      border-color: #dc3545;
      color: #dc3545;
    }
  </style>
  <script>
    function getCheckboxValue(event)  {
      let result = '';
      result = event.target.value;

      $.ajax({
        type :"POST" ,
        url : "http://localhost:8080/api/v1/extension",
        data_type : "text",
        data : {
          "result" : result
        }
      })
    }
  </script>
</head>
<body>
<hr style="border: solid 1px">
<h1>&#9678;파일 확장자 차단</h1>
<hr style="border: solid 2px">
<p>파일확장자에 따라 특정 형식의 파일을 첨부하거나 전송하지 못하도록 제한</p>
<div>
  <p>
    고정 확장자
    <span style="padding-left: 10px" th:each="extension : ${extensionList}">
      <input type="checkbox" th:name="${extension.getName()}" th:value="${extension.getName()}" th:checked="${extension.isChecked()}" onclick="getCheckboxValue(event)">
      <label th:text="${extension.name}"></label>
    </span>
  </p>
</div>
<div>
  <form th:action="@{/api/v1/extension/customExtension}" method="post" th:object="${customExtensionDTO}">
    커스텀 확장자
    <span style="padding-left: 10px">
      <input type="text" th:field="*{name}" maxlength="20" style="width: 250px; border-radius: 5px; border-color: #C5C5C5" placeholder="확장자 입력">
      <button type="submit" style="color: white; background-color: #AAAAAA ; border-radius: 5px; border-color: #C5C5C5" >+추가</button>
    </span>
    <div th:if="${#fields.hasGlobalErrors()}">
      <p class="field-error" style="padding-left: 105px; margin-top: -1px; text-" th:if="${#fields.hasGlobalErrors()}" th:each="err:${#fields.globalErrors()}" th:text="${err}">전체 오류 메시지</p>
    </div>
  </form>
</div>
</body>
</html>